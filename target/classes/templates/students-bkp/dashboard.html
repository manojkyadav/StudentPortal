<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Dashboard</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body class="bg-light">
	<div class="container py-4">
		<div class="d-flex justify-content-between align-items-center mb-3">
			<h2>Welcome, <span th:text="${student.name}">Student</span></h2>
			<div>
				<a class="btn btn-outline-secondary btn-sm" th:href="@{/student/profile}">Profile</a>
				<a class="btn btn-outline-danger btn-sm" th:href="@{/student/logout}">Logout</a>
			</div>
		</div>

		<div class="row">
			<div class="col-md-8">
				<div class="card mb-3 p-3">
					<h5>Subjects</h5>
					<div th:if="${#lists.isEmpty(subjects)}">No subjects assigned.</div>
					<ul class="list-group" th:each="s : ${subjects}">
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<span th:text="${s.subjectName}"></span>
							<a th:href="@{/student/practice/topics(subjectId=${s.id})}"
								class="btn btn-sm btn-primary">Practice</a>
						</li>
					</ul>
				</div>

				<div class="card p-3">
					<h5>Recent Attempts</h5>
					<table class="table table-sm">
						<thead>
							<tr>
								<th>Question</th>
								<th>Correct</th>
								<th>Time</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="a : ${recentAttempts}">
								<td th:text="${a.question.questionTxt}">Q</td>
								<td th:text="${a.correct}">true</td>
								<td th:text="${a.attemptTime}">time</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="col-md-4">
				<div class="card p-3 mb-3">
					<h6>Notifications</h6>
					<ul class="list-unstyled">
						<li th:each="n : ${notifications}">
							<strong th:text="${n.title}"></strong><br />
							<small th:text="${n.message}"></small>
							<hr />
						</li>
					</ul>
				</div>

				<div class="card p-3">
					<h6>Quick Links</h6>
					<a class="d-block" th:href="@{/student/practice/topics?subjectId=${subjects[0].id}}">Start
						Practice</a>
					<a class="d-block" th:href="@{/student/leaderboard}">Leaderboard</a>
				</div>
			</div>
		</div>
	</div>
</body>

</html>