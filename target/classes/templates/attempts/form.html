<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- Define the content fragment inside the template -->
<div th:fragment="content">
	<div th:replace="fragments/header :: header"></div>
    <h2 th:text="${attempt.id != null ? 'Edit Attempt' : 'New Attempt'}"></h2>
    <form th:action="@{/app/attempts/save}" th:object="${attempt}" method="post">
      <input type="hidden" th:field="*{id}"/>
      <div class="mb-3">
        <label>Student</label>
        <select class="form-select" th:field="*{student.id}">
          <option th:each="s : ${students}" th:value="${s.id}" th:text="${s.studentName}"></option>
        </select>
      </div>
      <div class="mb-3">
        <label>Question</label>
        <select class="form-select" th:field="*{question.id}">
          <option th:each="q : ${questions}" th:value="${q.id}" th:text="${q.question}"></option>
        </select>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" th:field="*{correct}"/>
        <label class="form-check-label">Is Correct</label>
      </div>
      <button class="btn btn-primary">Save</button>
      <a class="btn btn-secondary" th:href="@{/app/attempts}">Cancel</a>
    </form>
  </div>
  <!-- This is the only thing that should render the layout -->
  <div th:replace="~{layout :: layout(~{::content})}"></div>
</html>
