<!doctype html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Classes</title>
	<meta name="description" content="A beautiful responsive dashboard template built with HTML5 and CSS3." />
	<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
	<div class="container">
		<!-- Include header -->
		<div th:replace="~{fragments/header :: header}"></div>
		<div class="layout">
			<div th:replace="~{fragments/sidebar :: sidebar}"></div>
			<!-- Main content -->
			<main class="content">
				<div class="container">
					<section class="card">
						<h3>Create Subject</h3>
						<form th:action="@{/admin/addsubjects}" method="post">
							<select name="className">
								<option value="">Select Class</option>
								<option th:each="cls : ${classList}" th:value="${cls.className}"
									th:text="${cls.className}">
								</option>
							</select>
							<input type="text" name="subjectName" placeholder="Subject Name" required />
							<input type="text" name="description" placeholder="Description" />
							<button class="btn" type="submit">Create</button>
						</form>
					</section>
					<h2>Subjects Details</h2>
					<section class="grid">
						<div class="card">
							<table class="table">
								<tr>
									<th>Subject ID</th>
									<th>Class Name</th>
									<th>Subject Name</th>
									<th>Description</th>
									<th>Action</th>
								</tr>
								<tr th:each="cl: ${subjectList}">
									<td th:text="${cl.id}"></td>
									<td th:text="${cl.className}"></td>
									<td th:text="${cl.subjectName}"></td>
									<td th:text="${cl.description}"></td>
									<td>
										<!-- ✅ Option 1: Edit link -->
										<a th:href="@{/admin/edit}" class="btn btn-primary btn-sm">Edit</a>

										<!-- ✅ Option 2: Delete button -->
										<a th:href="@{/admin/deletesubjects/{subjectid}(subjectid=${cl.id})}"
											class="btn btn-danger btn-sm"
											onclick="return confirm('Are you sure you want to delete this subject?')">
											Delete
										</a>
									</td>
								</tr>
							</table>
						</div>
					</section>
				</div>
</body>

</html>